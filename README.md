# Cache Lab
This is the 4th lab from the course Intro to Computer Systems in cmu. The goal is to understand the impact that cache can have on the performance of a C program.
The lab has two parts:
Part A is to write a small C program (about 200-300 lines) that simulates the behavior of a cache memory. 
Part B will optimize a small matrix transpose function, with the goal of minimizing the number of cache misses.

The traces directory contains a collection of reference trace files to evaluate the correctness of the cache simulator in part A. The trace files are generated by a Linux program called valgrind. For example, typing

linux> valgrind --log-fd=1 --tool=lackey -v --trace-mem=yes ls -l

on the command line runs the executable program “ls -l”, captures a trace of each of its memory accesses in the order they occur, and prints them on stdout.
Valgrind memory traces have the following form:

I 0400d7d4,8
 M 0421c7f0,4
 L 04f6b868,8
 S 7ff0005c8,8

Each line denotes one or two memory accesses. The format of each line is

[space]operation address,size

The operation field denotes the type of memory access: “I” denotes an instruction load, “L” a data load, “S” a data store, and “M” a data modify (i.e., a data load followed by a data store). There is never a space before each “I”. There is always a space before each “M”, “L”, and “S”. The address field specifies a 64-bit hexadecimal memory address. The size field specifies the number of bytes accessed by the operation.

# Part A
Part A is to write a cache simulator in csim.c that takes a valgrind memory trace as input,simulates the hit/miss behavior of a cache memory on this trace, and outputs the total number of hits, misses, and evictions.

A reference cache simulator, csim-ref, is given to simulate the behavior of a chace with arbitrary size and associativity on a valgrind trace file. It uses the LRU (least-recently used) replacement policy when choosing which cache line to evict.

Usage: ./csim-ref [-hv] -s <s> -E <E> -b <b> -t <tracefile>
  
• -h: Optional help flag that prints usage info
• -v: Optional verbose flag that displays trace info
• -s <s>: Number of set index bits (S = 2s
is the number of sets)
• -E <E>: Associativity (number of lines per set)
• -b <b>: Number of block bits (B = 2b
is the block size)
• -t <tracefile>: Name of the valgrind trace to replay
